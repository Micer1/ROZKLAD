<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–†–æ–∑–∫–ª–∞–¥ –∑–∞–Ω—è—Ç—å</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background: #f0f4f8;
      margin: 0;
      padding: 0;
      color: #333;
      transition: background 0.3s, color 0.3s;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #4a90e2;
      color: white;
      padding: 15px 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }
    header h1 {
      margin: 0;
      font-size: 20px;
      font-weight: 700;
    }
    #date {
      font-size: 14px;
      opacity: 0.9;
    }
    .theme-toggle {
      cursor: pointer;
      font-size: 18px;
      margin-left: 15px;
    }
    .controls {
      text-align: center;
      margin: 15px;
    }
    button {
      padding: 10px 15px;
      margin: 5px;
      border-radius: 10px;
      border: none;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      background: #4a90e2;
      color: white;
      transition: background 0.3s;
    }
    button:hover {
      background: #357ab8;
    }
    .schedule {
      max-width: 800px;
      margin: auto;
      padding: 15px;
    }
    .schedule h2 {
      text-align: center;
      margin-bottom: 15px;
      color: #4a90e2;
    }
    .day {
      background: white;
      margin-bottom: 15px;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
      transition: background 0.3s, color 0.3s, border 0.3s;
    }
    .day h3 {
      margin: 0 0 10px 0;
      font-size: 18px;
      color: #333;
      border-bottom: 2px solid #4a90e2;
      display: inline-block;
      padding-bottom: 3px;
    }
    ul {
      padding-left: 18px;
      margin: 0;
    }
    li {
      margin: 5px 0;
      font-size: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .room {
      background: #4a90e2;
      color: white;
      padding: 2px 8px;
      border-radius: 8px;
      font-size: 12px;
      margin-left: 10px;
      white-space: nowrap;
    }
    .absent {
      text-align: center;
      width: 100%;
      font-style: italic;
      color: #777;
      display: block;
    }
    .day.current-day {
        background-color: #e7f3ff;
        border: 2px solid #4a90e2;
    }
    body.dark {
      background: #1e1e1e;
      color: #e0e0e0;
    }
    body.dark header {
      background: #222;
    }
    body.dark .day {
      background: #2a2a2a;
      color: #e0e0e0;
    }
    body.dark .schedule h2 {
      color: #87ceeb;
    }
    body.dark .room {
      background: #87ceeb;
      color: #111;
    }
    body.dark .day h3 {
      color: #87ceeb;
      border-bottom-color: #87ceeb;
    }
    body.dark .day.current-day {
      background-color: #2c3e50;
      border-color: #87ceeb;
    }
    @media (max-width: 600px) {
      header h1 { font-size: 18px; }
      button { font-size: 13px; padding: 8px 12px; }
      .day h3 { font-size: 16px; }
      li { font-size: 14px; flex-direction: column; align-items: flex-start; }
      .room { margin-top: 5px; margin-left: 0; }
    }
  </style>
</head>
<body>
  <header>
    <div>
      <div id="date"></div>
    </div>
    <div style="display:flex; align-items:center;">
      <h1>–†–æ–∑–∫–ª–∞–¥ –∑–∞–Ω—è—Ç—å</h1>
      <span class="theme-toggle" onclick="toggleTheme()">üåô</span>
    </div>
  </header>

  <div class="controls">
    <button onclick="showWeek(1)">1-–π —Ç–∏–∂–¥–µ–Ω—å</button>
    <button onclick="showWeek(2)">2-–π —Ç–∏–∂–¥–µ–Ω—å</button>
    <button onclick="autoWeek()">–ê–≤—Ç–æ–≤–∏–±—ñ—Ä</button>
  </div>

  <div id="schedule" class="schedule"></div>

  <script>
    const times = ["9:00", "10:40", "12:30", "14:00"];

    const subjects = {
      "–û—Å–Ω–æ–≤–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤": "212",
      "–ö–æ–º–ø'—é—Ç–µ—Ä–Ω–∞ –ª–æ–≥—ñ–∫–∞": "210",
      "–Ü–Ω–æ–∑–µ–º–Ω–∞ –º–æ–≤–∞": "419",
      "–¢–µ–æ—Ä—ñ—è –∫—ñ–ª": "317",
      "–§—ñ–∑–∏—á–Ω–∞ –∫—É–ª—å—Ç—É—Ä–∞": "—Å–∫1",
      "–í–∏—â–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞": "426",
      "–Ü—Å—Ç–æ—Ä—ñ—è –£–∫—Ä–∞—ó–Ω–∏": "207",
      "–§—ñ–∑–∏–∫–∞ —ñ –∞—Å—Ç—Ä–æ–Ω–æ–º—ñ—è": "421",
      "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞": "424",
      "–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –ú3": "209",
      "–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞": "411",
      "–í–∏—Ö–æ–≤–Ω–∞ –≥–æ–¥—Ç–∏–Ω–∞": "411",
      "–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞": "411"
    };

    const schedules = {
      1: {
        "–ü–Ω": ["–û—Å–Ω–æ–≤–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ —ñ –º–µ—Ç - –ì—Ä–∞–±–æ–≤—á–∞–∫ –¢.–í.", "–ö–æ–º–ø'—é—Ç–µ—Ä–Ω–∞ –ª–æ–≥—ñ–∫–∞ - –í–æ—Ä–æ–Ω—ñ–Ω–∞ –°.–í.", "–Ü–Ω–æ–∑–µ–º–Ω–∞ –º–æ–≤–∞ - –¢–æ–∫–∞—Ä—î–≤–∞ –û.–í.", "–¢–µ–æ—Ä—ñ—è –∫—ñ–ª - –ß–æ—Ä–Ω–∏–π –û.–ê."],
        "–í—Ç": ["–§—ñ–∑–∏—á–Ω–∞ –∫—É–ª—å—Ç—É—Ä–∞ - –§—ñ–ª—ñ–ø–ø–æ–≤ –î.–í.", "–í–∏—â–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ - –ì–æ–Ω—á–∞—Ä–æ–≤ –û.–ú.", "–Ü—Å—Ç–æ—Ä—ñ—è –£–∫—Ä–∞—ó–Ω–∏ - –î–æ–º–Ω—ñ–Ω–∞ –ì.–°."],
        "–°—Ä": ["–í–∏—â–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ - –ì–æ–Ω—á–∞—Ä–æ–≤ –û.–ú.", "–Ü—Å—Ç–æ—Ä—ñ—è –£–∫—Ä–∞—ó–Ω–∏ - –î–æ–º–Ω—ñ–Ω–∞ –ì.–°.", "–§—ñ–∑–∏–∫–∞ —ñ –∞—Å—Ç—Ä–æ–Ω–æ–º—ñ—è - –ö–∞—Ä–ø–æ–≤–∞ –ü.–ú."],
        "–ß—Ç": ["–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ - –ö–æ–≤–∞–ª—å –Ü.–ê.", "–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –ú3 - –û–ª—ñ–π–Ω–∏–∫ –û.–Æ.", "–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞ - –ü—Ä–æ—â–µ–Ω–∫–æ –Ü.–ú.", "–í–∏—Ö–æ–≤–Ω–∞ –≥–æ–¥—Ç–∏–Ω–∞ - –ü—Ä–æ—â–µ–Ω–∫–æ –Ü.–ú."],
        "–ü—Ç": ["–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞ - –ü—Ä–æ—â–µ–Ω–∫–æ –Ü.–ú.", "–ö–æ–º–ø'—é—Ç–µ—Ä–Ω–∞ –ª–æ–≥—ñ–∫–∞ - –í–æ—Ä–æ–Ω—ñ–Ω–∞ –°.–í.", "–§—ñ–∑–∏–∫–∞ —ñ –∞—Å—Ç—Ä–æ–Ω–æ–º—ñ—è - –ö–∞—Ä–ø–æ–≤–∞ –õ.–ú."]
      },
      2: {
        "–ü–Ω": ["–û—Å–Ω–æ–≤–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ —ñ - –ì—Ä–∞–±–æ–≤—á–∞–∫ –¢.–í.", "–ö–æ–º–ø'—é—Ç–µ—Ä–Ω–∞ –ª–æ–≥—ñ–∫–∞ - –í–æ—Ä–æ–Ω—ñ–Ω–∞ –°.–í.", "–Ü–Ω–æ–∑–µ–º–Ω–∞ –º–æ–≤–∞ - –¢–æ–∫–∞—Ä—î–≤–∞ –û.–í.", "–¢–µ–æ—Ä—ñ—è –∫—ñ–ª - –ß–æ—Ä–Ω–∏–π –û.–ê."],
        "–í—Ç": ["–§—ñ–∑–∏—á–Ω–∞ –∫—É–ª—å—Ç—É—Ä–∞ - –§—ñ–ª—ñ–ø–ø–æ–≤ –î.–í.", "–í–∏—â–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ - –ì–æ–Ω—á–∞—Ä–æ–≤ –û.–ú.", "–û—Å–Ω–æ–≤–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ —ñ - –ì—Ä–∞–±–æ–≤—á–∞–∫ –¢.–í."],
        "–°—Ä": ["–í–∏—â–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ - –ì–æ–Ω—á–∞—Ä–æ–≤ –û.–ú.", "–Ü—Å—Ç–æ—Ä—ñ—è –£–∫—Ä–∞—ó–Ω–∏ - –î–æ–º–Ω—ñ–Ω–∞ –ì.–°.", "–¢–µ–æ—Ä—ñ—è –∫—ñ–ª - –ß–æ—Ä–Ω–∏–π –û.–ê."],
        "–ß—Ç": ["–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ - –ö–æ–≤–∞–ª—å –Ü.–ê.", "–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –ú3 - –û–ª—ñ–π–Ω–∏–∫ –û.–Æ.", "–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞ - –ü—Ä–æ—â–µ–Ω–∫–æ –Ü.–ú.", "–í–∏—Ö–æ–≤–Ω–∞ –≥–æ–¥—Ç–∏–Ω–∞ - –ü—Ä–æ—â–µ–Ω–∫–æ –Ü.–ú."],
        "–ü—Ç": ["–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞ - –ü—Ä–æ—â–µ–Ω–∫–æ –Ü.–ú.", "–ö–æ–º–ø'—é—Ç–µ—Ä–Ω–∞ –ª–æ–≥—ñ–∫–∞ - –í–æ—Ä–æ–Ω—ñ–Ω–∞ –°.–í.", "–§—ñ–∑–∏–∫–∞ —ñ –∞—Å—Ç—Ä–æ–Ω–æ–º—ñ—è - –ö–∞—Ä–ø–æ–≤–∞ –õ.–ú."]
      }
    };

    function renderSchedule(week) {
      const container = document.getElementById("schedule");
      container.innerHTML = `<h2>${week}-–π —Ç–∏–∂–¥–µ–Ω—å</h2>`;

      const dayMap = ["–ù–¥", "–ü–Ω", "–í—Ç", "–°—Ä", "–ß—Ç", "–ü—Ç", "–°–±"];
      const currentDayName = dayMap[new Date().getDay()];

      for (let day in schedules[week]) {
        let lessons = schedules[week][day];
        let fullDay = Array(4).fill("–ü–∞—Ä–∞ –≤—ñ–¥—Å—É—Ç–Ω—è");
        
        lessons.forEach((subj, i) => {
          if(i < 4) fullDay[i] = subj;
        });

        let dayClass = "day";
        if (day === currentDayName) {
            dayClass += " current-day";
        }

        container.innerHTML += `
          <div class="${dayClass}">
            <h3>${day}</h3>
            <ul>${fullDay.map((subj, i) => {
              let room = "";
              for (let key in subjects) {
                if (subj.includes(key)) {
                  room = subjects[key];
                  break;
                }
              }
              if (subj === "–ü–∞—Ä–∞ –≤—ñ–¥—Å—É—Ç–Ω—è") {
                return `<li class="absent">${subj}</li>`;
              } else {
                return `<li><span>${times[i]}</span> ${subj} ${room ? `<span class="room">${room}</span>` : ""}</li>`;
              }
            }).join('')}</ul>
          </div>`;
      }
    }

    function autoWeek() {
      const startDate = new Date(2025, 0, 13); // –ü–æ–Ω–µ–¥—ñ–ª–æ–∫ 1-–≥–æ —Ç–∏–∂–Ω—è
      const today = new Date();
      const dayOfWeek = today.getDay();
      
      let diffTime = today - startDate;
      
      // –ü–µ—Ä–µ–º–∏–∫–∞—î–º–æ –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ç–∏–∂–¥–µ–Ω—å —É–∂–µ –≤ —Å—É–±–æ—Ç—É (6) –∞–±–æ –Ω–µ–¥—ñ–ª—é (0)
      if (dayOfWeek === 6 || dayOfWeek === 0) {
        diffTime += 7 * 24 * 60 * 60 * 1000;
      }
      
      const diffWeeks = Math.floor(diffTime / (7 * 24 * 60 * 60 * 1000));
      const week = (diffWeeks % 2 === 0) ? 1 : 2;
      
      renderSchedule(week);
    }

    function showWeek(week) {
      renderSchedule(week);
    }

    function showDate() {
      const now = new Date();
      const options = { day: '2-digit', month: '2-digit', year: 'numeric' };
      document.getElementById("date").textContent = now.toLocaleDateString('uk-UA', options);
    }

    function toggleTheme() {
      document.body.classList.toggle("dark");
      const toggle = document.querySelector(".theme-toggle");
      toggle.textContent = document.body.classList.contains("dark") ? "‚òÄÔ∏è" : "üåô";
    }

    window.onload = () => {
      showDate();
      autoWeek();
    };

    function setThemeByTime() {
      const hour = new Date().getHours();
      if (hour >= 16 || hour < 6) {
        document.body.classList.add('dark');
      } else {
        document.body.classList.remove('dark');
      }
    }
    setThemeByTime();
  </script>
</body>
</html>

